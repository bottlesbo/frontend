{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { getAllBooksThunk, getRecommendations } from './bookThunk';\nimport constants from '../constants';\nexport const initialState = {\n  books: [],\n  pages: 0,\n  searchResult: [],\n  recommended: []\n};\nexport const bookReducer = createSlice({\n  initialState,\n  name: 'books',\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getAllBooksThunk.fulfilled, (state, action) => {\n      state.books = action.payload.books;\n      state.pages = Math.ceil(action.payload.totalCount / constants.booksQuantityPerPage);\n    });\n    builder.addCase(getAllBooksThunk.rejected, state => {\n      state.books = [];\n      state.pages = 1;\n    });\n    builder.addCase(getRecommendations.fulfilled, (state, action) => {\n      state.recommended = action.payload;\n    });\n    builder.addCase(getRecommendations.rejected, state => {\n      state.recommended = [];\n    });\n  }\n});\nexport default bookReducer.reducer;","map":{"version":3,"names":["createSlice","getAllBooksThunk","getRecommendations","constants","initialState","books","pages","searchResult","recommended","bookReducer","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","Math","ceil","totalCount","booksQuantityPerPage","rejected","reducer"],"sources":["/home/father/bookstore/frontend/src/store/bookReducer.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { getAllBooksThunk, getRecommendations } from './bookThunk';\n\nimport constants from '../constants';\nimport { BookType } from '../types';\n\nexport const initialState = {\n  books: [] as BookType[],\n  pages: 0,\n  searchResult: [] as BookType[],\n  recommended: [] as BookType[],\n};\n\nexport const bookReducer = createSlice({\n  initialState,\n  name: 'books',\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getAllBooksThunk.fulfilled,\n      (state, action) => {\n        state.books = action.payload.books;\n        state.pages = Math.ceil(action.payload.totalCount / constants.booksQuantityPerPage);\n      });\n    builder.addCase(getAllBooksThunk.rejected, (state) => {\n      state.books = [];\n      state.pages = 1;\n    });\n    builder.addCase(getRecommendations.fulfilled, (state, action: PayloadAction<BookType[]>) => {\n      state.recommended = action.payload;\n    });\n    builder.addCase(getRecommendations.rejected, (state) => {\n      state.recommended = [];\n    });\n  },\n});\n\nexport default bookReducer.reducer;\n"],"mappings":"AAAA,SAASA,WAAT,QAA2C,kBAA3C;AAEA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,aAArD;AAEA,OAAOC,SAAP,MAAsB,cAAtB;AAGA,OAAO,MAAMC,YAAY,GAAG;EAC1BC,KAAK,EAAE,EADmB;EAE1BC,KAAK,EAAE,CAFmB;EAG1BC,YAAY,EAAE,EAHY;EAI1BC,WAAW,EAAE;AAJa,CAArB;AAOP,OAAO,MAAMC,WAAW,GAAGT,WAAW,CAAC;EACrCI,YADqC;EAErCM,IAAI,EAAE,OAF+B;EAGrCC,QAAQ,EAAE,EAH2B;EAIrCC,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,OAAR,CAAgBb,gBAAgB,CAACc,SAAjC,EACE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACjBD,KAAK,CAACX,KAAN,GAAcY,MAAM,CAACC,OAAP,CAAeb,KAA7B;MACAW,KAAK,CAACV,KAAN,GAAca,IAAI,CAACC,IAAL,CAAUH,MAAM,CAACC,OAAP,CAAeG,UAAf,GAA4BlB,SAAS,CAACmB,oBAAhD,CAAd;IACD,CAJH;IAKAT,OAAO,CAACC,OAAR,CAAgBb,gBAAgB,CAACsB,QAAjC,EAA4CP,KAAD,IAAW;MACpDA,KAAK,CAACX,KAAN,GAAc,EAAd;MACAW,KAAK,CAACV,KAAN,GAAc,CAAd;IACD,CAHD;IAIAO,OAAO,CAACC,OAAR,CAAgBZ,kBAAkB,CAACa,SAAnC,EAA8C,CAACC,KAAD,EAAQC,MAAR,KAA8C;MAC1FD,KAAK,CAACR,WAAN,GAAoBS,MAAM,CAACC,OAA3B;IACD,CAFD;IAGAL,OAAO,CAACC,OAAR,CAAgBZ,kBAAkB,CAACqB,QAAnC,EAA8CP,KAAD,IAAW;MACtDA,KAAK,CAACR,WAAN,GAAoB,EAApB;IACD,CAFD;EAGD;AApBoC,CAAD,CAA/B;AAuBP,eAAeC,WAAW,CAACe,OAA3B"},"metadata":{},"sourceType":"module"}
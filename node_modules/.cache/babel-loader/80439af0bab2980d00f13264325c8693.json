{"ast":null,"code":"var _jsxFileName = \"/home/fusion/workspace/frontend/src/ui/containers/Header/Header.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAppSelector } from '../../../store';\nimport { routePath } from '../../../constants';\nimport useQuery from '../../../utils/useQuery';\nimport logOut from '../../../utils/logOut';\nimport Logo from '../../components/Logo';\nimport AuthButtonsBlock from './components/AuthButtonsBlock';\nimport AuthProtector from '../../components/AuthProtector';\nimport CommonButton from '../../components/CommonButton';\nimport CommonWrapper from '../../components/CommonWrapper.styles';\nimport HeaderWrapper from './Header.styles';\nimport logo from '../../images/logo.svg';\nimport searchIcon from '../../images/search-icon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [, setParams] = useQuery();\n  const user = useAppSelector(state => state.userReducer.user);\n\n  const handleSearchRequest = e => {\n    if (e.key === 'Enter') {\n      const value = e.currentTarget.value;\n      setParams({\n        value\n      });\n\n      if (location.pathname !== routePath.home) {\n        navigate(`${routePath.home}?value=${value}`);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(CommonWrapper, {\n    children: /*#__PURE__*/_jsxDEV(HeaderWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__link-block\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: routePath.home,\n          children: /*#__PURE__*/_jsxDEV(Logo, {\n            src: logo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"header__catalog-link\",\n          onClick: logOut,\n          hidden: !user,\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"global-search\",\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"search__icon\",\n          src: searchIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search__input\",\n          type: \"text\",\n          id: \"global-search\",\n          placeholder: \"Search\",\n          onKeyDown: handleSearchRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthProtector, {\n        children: /*#__PURE__*/_jsxDEV(AuthButtonsBlock, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthProtector, {\n        noAuthOnly: true,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"header__link\",\n          to: routePath.signIn,\n          children: /*#__PURE__*/_jsxDEV(CommonButton, {\n            text: \"Log In / Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Header, \"FErLYvojIi5vlpZDuMyhxNjECh0=\", false, function () {\n  return [useNavigate, useLocation, useQuery, useAppSelector];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","Link","useLocation","useNavigate","useAppSelector","routePath","useQuery","logOut","Logo","AuthButtonsBlock","AuthProtector","CommonButton","CommonWrapper","HeaderWrapper","logo","searchIcon","Header","navigate","location","setParams","user","state","userReducer","handleSearchRequest","e","key","value","currentTarget","pathname","home","signIn"],"sources":["/home/fusion/workspace/frontend/src/ui/containers/Header/Header.tsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\n\nimport { useAppSelector } from '../../../store';\nimport { QuerySearchOptions } from '../../../types';\nimport { routePath } from '../../../constants';\nimport useQuery from '../../../utils/useQuery';\nimport logOut from '../../../utils/logOut';\n\nimport Logo from '../../components/Logo';\nimport AuthButtonsBlock from './components/AuthButtonsBlock';\nimport AuthProtector from '../../components/AuthProtector';\nimport CommonButton from '../../components/CommonButton';\nimport CommonWrapper from '../../components/CommonWrapper.styles';\nimport HeaderWrapper from './Header.styles';\n\nimport logo from '../../images/logo.svg';\nimport searchIcon from '../../images/search-icon.png';\n\nconst Header = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [, setParams] = useQuery<QuerySearchOptions>();\n  const user = useAppSelector((state) => state.userReducer.user);\n\n  const handleSearchRequest: React.KeyboardEventHandler<HTMLInputElement> = (e) => {\n    if (e.key === 'Enter') {\n      const value = e.currentTarget.value;\n      setParams({ value });\n      if (location.pathname !== routePath.home) {\n        navigate(`${routePath.home}?value=${value}`);\n      }\n    }\n  };\n\n  return (\n    <CommonWrapper>\n      <HeaderWrapper >\n        <div className=\"header__link-block\">\n          <Link to={routePath.home}>\n            <Logo src={logo} />\n          </Link>\n          <span\n            className=\"header__catalog-link\"\n            onClick={logOut}\n            hidden={!user}\n          >\n            Log out\n          </span>\n        </div>\n        <label\n          htmlFor=\"global-search\"\n          className=\"search\"\n        >\n          <img\n            className=\"search__icon\"\n            src={searchIcon}\n          />\n          <input\n            className=\"search__input\"\n            type=\"text\"\n            id=\"global-search\"\n            placeholder=\"Search\"\n            onKeyDown={handleSearchRequest}\n          />\n        </label>\n\n        <AuthProtector>\n          <AuthButtonsBlock />\n        </AuthProtector>\n\n        <AuthProtector noAuthOnly>\n          <Link\n            className=\"header__link\"\n            to={routePath.signIn}\n          >\n            <CommonButton text=\"Log In / Sign Up\" />\n          </Link>\n        </AuthProtector>\n      </HeaderWrapper>\n    </CommonWrapper>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
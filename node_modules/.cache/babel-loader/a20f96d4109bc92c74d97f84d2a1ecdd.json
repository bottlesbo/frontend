{"ast":null,"code":"var _jsxFileName = \"/home/fusion/workspace/frontend/src/ui/pages/home/components/PaginationBlock.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useAppSelector } from '../../../../store';\nimport useQuery from '../../../../utils/useQuery';\nimport PaginationWrapper from '../styles/PaginationBlock.styles';\nimport arrow from '../../../images/page-arrow.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PaginationBlock = () => {\n  _s();\n\n  const [parsedParams, setParams] = useQuery();\n  const [currentPage, setCurrentPage] = useState();\n  const totalPages = useAppSelector(state => state.bookReducer.pages);\n  useEffect(() => {\n    if (!currentPage) {\n      if (!parsedParams.page) {\n        setCurrentPage(1);\n      } else {\n        setCurrentPage(+parsedParams.page);\n      }\n    }\n  }, [currentPage, setCurrentPage]);\n  useEffect(() => {\n    if (!currentPage) {\n      return;\n    }\n\n    if (totalPages > 0 && (currentPage > totalPages || !parsedParams.page)) {\n      setCurrentPage(1);\n    }\n\n    setParams({\n      page: currentPage.toString()\n    });\n  }, [currentPage, totalPages]);\n\n  const turnPageBack = () => {\n    if (!currentPage || currentPage < 2) return;\n    setCurrentPage(currentPage + 1);\n  };\n\n  const turnPageForward = () => {\n    if (!currentPage || currentPage >= totalPages) return;\n    setCurrentPage(currentPage + 1);\n  };\n\n  const turnPage = page => {\n    setCurrentPage(page);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    children: totalPages > 1 && /*#__PURE__*/_jsxDEV(PaginationWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: arrow,\n        className: \"pagination__arrow pagination__back\",\n        alt: \"pagination__back pagination__arrow\",\n        onClick: turnPageBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination__pages\",\n        children: new Array(totalPages).fill(1).map((page, index) => {\n          let style = 'pagination__page';\n\n          if (index + 1 === currentPage) {\n            style = 'pagination__page pagination__page-current';\n          }\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style,\n            onClick: () => turnPage(index + 1)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: arrow,\n        className: \"pagination__arrow\",\n        alt: \"pagination__arrow\",\n        onClick: turnPageForward\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PaginationBlock, \"vrN6ZU+KnJ8bblCyDAAgzEhlBso=\", false, function () {\n  return [useQuery, useAppSelector];\n});\n\n_c = PaginationBlock;\nexport default PaginationBlock;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaginationBlock\");","map":{"version":3,"names":["React","useEffect","useState","useAppSelector","useQuery","PaginationWrapper","arrow","PaginationBlock","parsedParams","setParams","currentPage","setCurrentPage","totalPages","state","bookReducer","pages","page","toString","turnPageBack","turnPageForward","turnPage","Array","fill","map","index","style"],"sources":["/home/fusion/workspace/frontend/src/ui/pages/home/components/PaginationBlock.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { useAppSelector } from '../../../../store';\n\nimport useQuery from '../../../../utils/useQuery';\nimport { QuerySearchOptions } from '../../../../types';\n\nimport PaginationWrapper from '../styles/PaginationBlock.styles';\n\nimport arrow from '../../../images/page-arrow.png';\n\nconst PaginationBlock = () => {\n  const [parsedParams, setParams] = useQuery<QuerySearchOptions>();\n  const [currentPage, setCurrentPage] = useState<number>();\n  const totalPages = useAppSelector((state) => state.bookReducer.pages);\n\n  useEffect(() => {\n    if (!currentPage) {\n      if (!parsedParams.page) {\n        setCurrentPage(1);\n      } else {\n        setCurrentPage(+parsedParams.page);\n      }\n    }\n  }, [currentPage, setCurrentPage]);\n\n  useEffect(() => {\n    if (!currentPage) {\n      return;\n    }\n\n    if (totalPages > 0 && (currentPage > totalPages || !parsedParams.page)) {\n      setCurrentPage(1);\n    }\n    setParams({ page: currentPage.toString() });\n  }, [currentPage, totalPages]);\n\n  const turnPageBack = () => {\n    if (!currentPage || currentPage < 2) return;\n    setCurrentPage(currentPage + 1);\n  };\n\n  const turnPageForward = () => {\n    if (!currentPage || currentPage >= totalPages) return;\n    setCurrentPage(currentPage + 1);\n  };\n\n  const turnPage = (page: number) => {\n    setCurrentPage(page);\n  };\n\n  return (\n    <nav>\n      {totalPages > 1 &&\n        <PaginationWrapper>\n          <img\n            src={arrow}\n            className=\"pagination__arrow pagination__back\"\n            alt=\"pagination__back pagination__arrow\"\n            onClick={turnPageBack}\n          />\n          <div className=\"pagination__pages\">\n            {new Array(totalPages).fill(1).map((page, index) => {\n              let style = 'pagination__page';\n              if (index + 1 === currentPage) {\n                style = 'pagination__page pagination__page-current';\n              }\n              return (\n                <div\n                  key={index}\n                  className={style}\n                  onClick={() => turnPage(index + 1)}\n                />\n              );\n            })}\n          </div>\n          <img\n            src={arrow}\n            className=\"pagination__arrow\"\n            alt=\"pagination__arrow\"\n            onClick={turnPageForward}\n          />\n        </PaginationWrapper>}\n    </nav>\n  );\n};\n\nexport default PaginationBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React,{Suspense}from'react';import{Route,Routes}from'react-router-dom';import{routePath}from'../../constants';import AuthProtector from'../components/AuthProtector';import Loader from'../components/Loader/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";var SignInForm=/*#__PURE__*/React.lazy(function(){return import('../pages/auth/SignIn');});var SignUpForm=/*#__PURE__*/React.lazy(function(){return import('../pages/auth/SignUp');});var Cart=/*#__PURE__*/React.lazy(function(){return import('../pages/cart');});var Home=/*#__PURE__*/React.lazy(function(){return import('../pages/home');});var UserProfile=/*#__PURE__*/React.lazy(function(){return import('../pages/userProfile');});var ProductPage=/*#__PURE__*/React.lazy(function(){return import('../pages/productPage');});var Favorites=/*#__PURE__*/React.lazy(function(){return import('../pages/favorites');});var NotFound=/*#__PURE__*/React.lazy(function(){return import('../pages/notFound');});var createElementWithOptions=function createElementWithOptions(route){var _route$isProtected=route.isProtected,isProtected=_route$isProtected===void 0?true:_route$isProtected,_route$noAuthOnly=route.noAuthOnly,noAuthOnly=_route$noAuthOnly===void 0?false:_route$noAuthOnly;var children=/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(route.children,{})});if(!isProtected){return children;}return/*#__PURE__*/_jsx(AuthProtector,{redirectTo:route.redirectTo,noAuthOnly:noAuthOnly,children:children});};var Navigation=function Navigation(){return/*#__PURE__*/_jsx(Routes,{children:navigationList.map(function(route,index){return/*#__PURE__*/_jsx(Route,{path:route.path,element:createElementWithOptions(route)},index);})});};var navigationList=[{path:routePath.home,children:Home,isProtected:false},{path:routePath.createProductURL(':id'),children:ProductPage,isProtected:false},{path:routePath.signIn,children:SignInForm,redirectTo:routePath.home,noAuthOnly:true},{path:routePath.signUp,children:SignUpForm,redirectTo:routePath.home,noAuthOnly:true},{path:routePath.cart,children:Cart,redirectTo:routePath.signIn},{path:routePath.profile,children:UserProfile,redirectTo:routePath.signIn},{path:routePath.favorites,children:Favorites,redirectTo:routePath.signIn},{path:'*',children:NotFound,isProtected:false}];export default Navigation;","map":{"version":3,"names":["React","Suspense","Route","Routes","routePath","AuthProtector","Loader","SignInForm","lazy","SignUpForm","Cart","Home","UserProfile","ProductPage","Favorites","NotFound","createElementWithOptions","route","isProtected","noAuthOnly","children","redirectTo","Navigation","navigationList","map","index","path","home","createProductURL","signIn","signUp","cart","profile","favorites"],"sources":["/home/father/bookstore/frontend/src/ui/containers/Navigation.tsx"],"sourcesContent":["import React, { Suspense } from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { routePath } from '../../constants';\n\nimport AuthProtector from '../components/AuthProtector';\nimport Loader from '../components/Loader/Loader';\n\nconst SignInForm = React.lazy(() => import('../pages/auth/SignIn'));\nconst SignUpForm = React.lazy(() => import('../pages/auth/SignUp'));\nconst Cart = React.lazy(() => import('../pages/cart'));\nconst Home = React.lazy(() => import('../pages/home'));\nconst UserProfile = React.lazy(() => import('../pages/userProfile'));\nconst ProductPage = React.lazy(() => import('../pages/productPage'));\nconst Favorites = React.lazy(() => import('../pages/favorites'));\nconst NotFound = React.lazy(() => import('../pages/notFound'));\n\ntype RouteType = {\n  path: string;\n  children: React.LazyExoticComponent<() => JSX.Element | null>;\n  noAuthOnly?: boolean;\n  isProtected?: boolean;\n  redirectTo?: string;\n}\n\nconst createElementWithOptions = (route: RouteType) => {\n  const { isProtected = true, noAuthOnly = false } = route;\n\n  const children = (\n    <Suspense fallback={<Loader />}>\n      <route.children />\n    </Suspense>\n  );\n\n  if (!isProtected) {\n    return children;\n  }\n\n  return (\n    <AuthProtector\n      redirectTo={route.redirectTo}\n      noAuthOnly={noAuthOnly}\n    >\n      {children}\n    </AuthProtector>\n  );\n};\n\nconst Navigation = () => {\n  return (\n    <Routes>\n      {navigationList.map((route, index) => (\n        <Route\n          key={index}\n          path={route.path}\n          element={createElementWithOptions(route)}\n        />\n      ))}\n    </Routes>\n  );\n};\n\nconst navigationList = [\n  {\n    path: routePath.home,\n    children: Home,\n    isProtected: false,\n  },\n  {\n    path: routePath.createProductURL(':id'),\n    children: ProductPage,\n    isProtected: false,\n  },\n  {\n    path: routePath.signIn,\n    children: SignInForm,\n    redirectTo: routePath.home,\n    noAuthOnly: true,\n  },\n  {\n    path: routePath.signUp,\n    children: SignUpForm,\n    redirectTo: routePath.home,\n    noAuthOnly: true,\n  },\n  {\n    path: routePath.cart,\n    children: Cart,\n    redirectTo: routePath.signIn,\n  },\n  {\n    path: routePath.profile,\n    children: UserProfile,\n    redirectTo: routePath.signIn,\n  },\n  {\n    path: routePath.favorites,\n    children: Favorites,\n    redirectTo: routePath.signIn,\n  },\n  {\n    path: '*',\n    children: NotFound,\n    isProtected: false,\n  },\n];\n\nexport default Navigation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
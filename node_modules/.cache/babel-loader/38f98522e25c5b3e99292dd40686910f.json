{"ast":null,"code":"import Cookies from 'js-cookie';\nimport authApi from '../api/authApi';\nimport constants from '../constants';\n\nconst checkRefreshToken = async () => {\n  try {\n    const refreshToken = Cookies.get(constants.token.refresh);\n\n    if (!refreshToken) {\n      throw new Error('No saved refresh token in cookies');\n    }\n\n    const response = await authApi.checkRefresh(refreshToken);\n    Cookies.set(constants.token.access, response.data.token);\n    Cookies.set(constants.token.refresh, response.data.refreshToken);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nexport default checkRefreshToken;","map":{"version":3,"names":["Cookies","authApi","constants","checkRefreshToken","refreshToken","get","token","refresh","Error","response","checkRefresh","set","access","data","error"],"sources":["/home/fusion/workspace/frontend/src/utils/checkRefreshToken.ts"],"sourcesContent":["import Cookies from 'js-cookie';\n\nimport authApi from '../api/authApi';\n\nimport constants from '../constants';\n\nconst checkRefreshToken = async () => {\n  try {\n    const refreshToken = Cookies.get(constants.token.refresh);\n    if (!refreshToken) {\n      throw new Error('No saved refresh token in cookies');\n    }\n\n    const response = await authApi.checkRefresh(refreshToken);\n\n    Cookies.set(constants.token.access, response.data.token);\n    Cookies.set(constants.token.refresh, response.data.refreshToken);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nexport default checkRefreshToken;\n"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAEA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,OAAOC,SAAP,MAAsB,cAAtB;;AAEA,MAAMC,iBAAiB,GAAG,YAAY;EACpC,IAAI;IACF,MAAMC,YAAY,GAAGJ,OAAO,CAACK,GAAR,CAAYH,SAAS,CAACI,KAAV,CAAgBC,OAA5B,CAArB;;IACA,IAAI,CAACH,YAAL,EAAmB;MACjB,MAAM,IAAII,KAAJ,CAAU,mCAAV,CAAN;IACD;;IAED,MAAMC,QAAQ,GAAG,MAAMR,OAAO,CAACS,YAAR,CAAqBN,YAArB,CAAvB;IAEAJ,OAAO,CAACW,GAAR,CAAYT,SAAS,CAACI,KAAV,CAAgBM,MAA5B,EAAoCH,QAAQ,CAACI,IAAT,CAAcP,KAAlD;IACAN,OAAO,CAACW,GAAR,CAAYT,SAAS,CAACI,KAAV,CAAgBC,OAA5B,EAAqCE,QAAQ,CAACI,IAAT,CAAcT,YAAnD;IAEA,OAAO,IAAP;EACD,CAZD,CAYE,OAAOU,KAAP,EAAc;IACd,OAAO,KAAP;EACD;AACF,CAhBD;;AAkBA,eAAeX,iBAAf"},"metadata":{},"sourceType":"module"}
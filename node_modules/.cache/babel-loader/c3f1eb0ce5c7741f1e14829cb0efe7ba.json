{"ast":null,"code":"var _jsxFileName = \"/home/fusion/workspace/frontend/src/ui/pages/favorites/Favorites.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport bookApi from '../../../api/bookApi';\nimport BooksRender from '../../components/Book';\nimport CommonWrapper from '../../components/CommonWrapper.styles';\nimport FavoritesWrapper from './Favorites.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Favorites = () => {\n  _s();\n\n  const [books, setBooks] = useState([]);\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await bookApi.getFavorite();\n        setBooks(response.data);\n      } catch (err) {\n        toast.error('Sorry, favorites is not available now', {\n          autoClose: 3000\n        });\n      }\n    })();\n  }, [setBooks]);\n\n  const changeBookList = id => {\n    const updatedList = books.filter(book => {\n      return book.bookId !== id;\n    });\n    setBooks(updatedList);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CommonWrapper, {\n    children: /*#__PURE__*/_jsxDEV(FavoritesWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"favorites__title\",\n        children: \"Favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), books && /*#__PURE__*/_jsxDEV(BooksRender, {\n        booksArray: books,\n        wrap: \"wrap\",\n        handleFavorites: changeBookList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Favorites, \"ww1JAI05mMsgubm5EIyBKqdj5S0=\");\n\n_c = Favorites;\nexport default Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["React","useEffect","useState","toast","bookApi","BooksRender","CommonWrapper","FavoritesWrapper","Favorites","books","setBooks","response","getFavorite","data","err","error","autoClose","changeBookList","id","updatedList","filter","book","bookId"],"sources":["/home/fusion/workspace/frontend/src/ui/pages/favorites/Favorites.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport bookApi from '../../../api/bookApi';\nimport { BooksArray } from '../../../types';\n\nimport BooksRender from '../../components/Book';\nimport CommonWrapper from '../../components/CommonWrapper.styles';\nimport FavoritesWrapper from './Favorites.styles';\n\nconst Favorites = () => {\n  const [books, setBooks] = useState<BooksArray>([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await bookApi.getFavorite();\n        setBooks(response.data);\n      } catch (err) {\n        toast.error('Sorry, favorites is not available now', { autoClose: 3000 });\n      }\n    })();\n  }, [setBooks]);\n\n  const changeBookList = (id: number) => {\n    const updatedList = books.filter((book) => {\n      return book.bookId !== id;\n    });\n    setBooks(updatedList);\n  };\n\n  return (\n    <CommonWrapper>\n      <FavoritesWrapper>\n        <h1 className=\"favorites__title\">Favorites</h1>\n        {books && (\n          <BooksRender\n            booksArray={books}\n            wrap=\"wrap\"\n            handleFavorites={changeBookList}\n          />\n        )}\n      </FavoritesWrapper>\n    </CommonWrapper>\n  );\n};\n\nexport default Favorites;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAOC,OAAP,MAAoB,sBAApB;AAGA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;;;AAEA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EACtB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAa,EAAb,CAAlC;EAEAD,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,IAAI;QACF,MAAMU,QAAQ,GAAG,MAAMP,OAAO,CAACQ,WAAR,EAAvB;QACAF,QAAQ,CAACC,QAAQ,CAACE,IAAV,CAAR;MACD,CAHD,CAGE,OAAOC,GAAP,EAAY;QACZX,KAAK,CAACY,KAAN,CAAY,uCAAZ,EAAqD;UAAEC,SAAS,EAAE;QAAb,CAArD;MACD;IACF,CAPD;EAQD,CATQ,EASN,CAACN,QAAD,CATM,CAAT;;EAWA,MAAMO,cAAc,GAAIC,EAAD,IAAgB;IACrC,MAAMC,WAAW,GAAGV,KAAK,CAACW,MAAN,CAAcC,IAAD,IAAU;MACzC,OAAOA,IAAI,CAACC,MAAL,KAAgBJ,EAAvB;IACD,CAFmB,CAApB;IAGAR,QAAQ,CAACS,WAAD,CAAR;EACD,CALD;;EAOA,oBACE,QAAC,aAAD;IAAA,uBACE,QAAC,gBAAD;MAAA,wBACE;QAAI,SAAS,EAAC,kBAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAEGV,KAAK,iBACJ,QAAC,WAAD;QACE,UAAU,EAAEA,KADd;QAEE,IAAI,EAAC,MAFP;QAGE,eAAe,EAAEQ;MAHnB;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAcD,CAnCD;;GAAMT,S;;KAAAA,S;AAqCN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}
{"version":3,"file":"static/js/953.a1f9dae3.chunk.js","mappings":"8NAmFA,E,QAjFgBA,GAAAA,IAAH,iuC,4HCkDb,EAtCwB,WACtB,OACE,SAAC,IAAD,WACE,UAAC,EAAD,YACE,0BACE,gBACEC,IAAKC,EACLC,UAAU,gBAGd,iBAAKA,UAAU,aAAf,WACE,gBACEF,IAAKG,EACLD,UAAU,oBAEZ,UAAC,IAAD,CAAiBA,UAAU,aAA3B,WACE,cAAGA,UAAU,QAAb,4BAGA,cAAGA,UAAU,OAAb,qEAGA,SAAC,KAAD,CACEA,UAAU,SACVE,GAAIC,EAAAA,GAAAA,OAFN,UAIE,SAACC,EAAA,EAAD,CACEC,KAAK,YACLC,KAAK,mC,4MC0ErB,E,QA9GqBT,GAAAA,IAAH,qsDAEd,SAACU,GAAD,MAA2B,SAAfA,EAAMC,KAChB,mBADU,iD,mBC6GhB,EA/FyC,SAACD,GACxC,IAAME,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,UAAmB,IAA3D,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAOC,EAAAA,EAAAA,KAAe,SAACC,GAAD,OAAWA,EAAMC,YAAYH,SAEzDI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgC,GACtCZ,EAAMa,WAAWC,SAAQ,SAACC,GACpBA,EAAKC,cACPJ,EAAoBK,KAAKF,EAAKG,WAGlCZ,EAAgBM,KACf,CAACZ,EAAMa,aAEV,IAAMM,EAAqB,mCAAG,WAAOD,GAAP,6EAErBX,EAFqB,yCAGjBL,EAASN,EAAAA,GAAAA,SAHQ,WAMA,IADDS,EAAae,QAAQF,GALpB,iCAOlBG,EAAAA,EAAAA,mBAA2B,CAAEH,OAAAA,IAPX,OAQxBZ,GAAgB,SAACgB,GAAD,OAAeA,EAAUC,QAAO,SAACC,GAC/C,OAAOA,IAAON,QAEZlB,EAAMyB,iBACRzB,EAAMyB,gBAAgBP,GAZA,yCAelBG,EAAAA,EAAAA,cAAsB,CAAEH,OAAAA,IAfN,QAgBxBZ,EAAgB,GAAD,eAAKD,GAAL,CAAmBa,KAhBV,0DAmB1BQ,EAAAA,GAAAA,MAAY,iDAAkD,CAAEC,UAAW,MAnBjD,0DAAH,sDAuB3B,OACE,SAAC,EAAD,CACE1B,KAAMD,EAAMC,KADd,SAGGD,EAAMa,WAAWe,KAAI,SAACb,GACrB,OACE,iBACEtB,UAAU,OADZ,WAIE,UAAC,KAAD,CACEA,UAAU,aACVE,GAAI,CAAEkC,SAAUjC,EAAAA,GAAAA,iBAA2BmB,EAAKG,OAAOY,aAFzD,WAGE,gBACEvC,IAAKwB,EAAKgB,MACVtC,UAAU,iBAEZ,cAAGA,UAAU,cAAb,SACGsB,EAAKiB,WAGT3B,EAAa4B,SAASlB,EAAKG,SACvB,gBACDzB,UAAU,iBACVF,IAAK2C,EACLC,QAAS,kBAAMhB,EAAsBJ,EAAKG,YAEzC,gBACDzB,UAAU,iBACVF,I,inEACA4C,QAAS,kBAAMhB,EAAsBJ,EAAKG,YAG9C,cAAGzB,UAAU,eAAb,SACGsB,EAAKqB,UAER,iBAAK3C,UAAU,eAAf,WACE,SAAC4C,EAAA,EAAD,CACEC,KAAMvB,EAAKwB,YACXC,gBAAgB,EAChBtB,OAAQH,EAAKG,UAEf,gBAAKzB,UAAU,uBAAf,SACGsB,EAAKwB,kBAGV,SAAC1C,EAAA,EAAD,CACEC,KAAK,YACLC,KAAI,WAAMgB,EAAK0B,MAAX,YAxCD1B,EAAKG,e,oCClEhBwB,E,QAAkBpD,GAAAA,IAAH,gvBAoDrB,O,8KC9BA,E,QAtB6BA,GAAAA,IAAH,wV,mBC+E1B,EA3DsC,SAACU,GACrC,IAAME,GAAWC,EAAAA,EAAAA,MACXI,GAAOC,EAAAA,EAAAA,KAAe,SAACC,GAAD,OAAWA,EAAMC,YAAYH,QACzD,GAA4BH,EAAAA,EAAAA,UAASJ,EAAMsC,MAA3C,eAAOK,EAAP,KAAeC,EAAf,MAEAjC,EAAAA,EAAAA,YAAU,WACJX,EAAMwC,gBACRI,EAAU,KAEX,CAAC5C,EAAMwC,iBAEV,IAAMK,EAAY,mCAAG,WAAOC,GAAP,6EAEZvC,EAFY,yCAGRL,EAASN,EAAAA,GAAAA,SAHD,uBAKXyB,EAAAA,EAAAA,UAAkB,CACtBH,OAAQlB,EAAMkB,OACdyB,OAAQG,IAPO,uDAUjBpB,EAAAA,GAAAA,MAAY,6CAA8C,CAAEC,UAAW,MAVtD,yDAAH,sDAwBlB,OACE,SAAC,EAAD,WACE,SAAC,IAAD,CACEQ,QAbe,SAACG,GACpBM,EAAUN,EAAO,IACZtC,EAAM+C,qBAIX/C,EAAM+C,qBACNF,EAAaP,EAAO,MAOhBU,YAAsB,GAATL,EACbM,eAAe,EACfC,UAAWlD,EAAMwC,eACjBW,UACE,gBACE5D,IAAK6D,EACL3D,UAAU,iBAGd4D,WACE,gBACE9D,I,qyCACAE,UAAU,uB,gSCuDtB,EA9HwBH,EAAAA,GAAAA,IAAH,2mE,mBCuGrB,EAlF0C,SAACU,GACzC,IAAMO,GAAOC,EAAAA,EAAAA,KAAe,SAACC,GAAD,OAAWA,EAAMC,YAAYH,QACnD+C,EAAgBtD,EAAMe,KAAKwC,SAE3BC,GAASC,EAAAA,EAAAA,IAAU,CACvBC,cAAe,CACb3D,KAAM,IAER4D,SAAS,WAAD,wBAAE,WAAOC,GAAP,qFAEDrD,EAFC,wDAGAsD,EAAa,CACjB9D,KAAM6D,EAAM7D,KAAK+D,OACjB5C,OAAQlB,EAAMe,KAAKG,QALf,SAOiBG,EAAAA,EAAAA,WAAmBwC,GAPpC,OAOAE,EAPA,OAQNH,EAAM7D,KAAO,GAEbiE,EAAAA,EAAAA,KAAY,cAAeD,EAASE,MAV9B,kDAYNvC,EAAAA,GAAAA,MAAY,iCAAkC,CAAEC,UAAW,MAZrD,0DAAF,mDAAC,MAiBXhB,EAAAA,EAAAA,YAAU,WACRqD,EAAAA,EAAAA,GAAU,gBAAgB,SAACC,GACzBjE,EAAMe,KAAKwC,SAAStC,KAAKgD,GACzB,IAAMlD,GAAI,UAAQf,EAAMe,MACxBf,EAAMkE,eAAenD,QAEtB,CAACiD,EAAAA,IAEJ,IAAMG,EAAgB,SAACC,GACrBC,IAAAA,OAAaC,KACb,IAAMC,EAAUF,GAAAA,CAAMD,GAAMI,UAC5B,MAAM,kBAAN,OAAyBD,IAG3B,OACE,UAAC,EAAD,YACE,eAAI9E,UAAU,QAAd,sBACC6D,EAAcmB,OAAS,IAAK,gBAAKhF,UAAU,WAAf,SAC1B6D,EAAc1B,KAAI,SAAC8C,GAClB,OACE,iBAEEjF,UAAU,UAFZ,WAIE,gBACEF,IAAKmF,EAAQnE,KAAKoE,QAAUC,EAC5BnF,UAAU,YACZ,iBAAKA,UAAU,gBAAf,WACE,cAAGA,UAAU,cAAb,SAA4BiF,EAAQnE,KAAKsE,QACzC,cAAGpF,UAAU,OAAb,SAAqB0E,EAAcO,EAAQN,YAE7C,cAAG3E,UAAU,OAAb,SAAqBiF,EAAQ3E,SAVxB2E,EAAQI,iBAerB,SAACC,EAAA,EAAD,WACE,kBACEpB,SAAUH,EAAOwB,aACjBvF,UAAU,gBAFZ,WAIE,6BACEwF,YAAY,kBACZxF,UAAU,mBACVyF,KAAM,GACF1B,EAAO2B,cAAc,WAE3B,SAACtF,EAAA,EAAD,CACEC,KAAK,YACLC,KAAK,4B,8BCpFjB,EAX+BT,EAAAA,GAAAA,IAAH,kLC4B5B,EArBwB,WACtB,IAAM8F,GAAmB5E,EAAAA,EAAAA,KAAe,SAACC,GAAD,OAAWA,EAAM4E,YAAYC,eAC/DC,GAAWC,EAAAA,EAAAA,MAQjB,OANA7E,EAAAA,EAAAA,YAAU,YACR,iBAAC,8EACC4E,GAASE,EAAAA,EAAAA,MADV,0CAAD,KAGC,CAACF,KAGF,UAAC,EAAD,YACE,eAAI9F,UAAU,yBAAd,8BACA,SAACiG,EAAA,EAAD,CACEzF,KAAK,SACLY,WAAYuE,Q,UC0LpB,EAhN2B9F,EAAAA,GAAAA,IAAH,6uG,UC8IxB,EA1HoB,WAAO,IAAD,EAClBY,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,YAAxB,eAAOW,EAAP,KAAa4E,EAAb,KACA,GAA4CvF,EAAAA,EAAAA,WAAS,GAArD,eAAOoC,EAAP,KAAuBoD,EAAvB,KACMrF,GAAOC,EAAAA,EAAAA,KAAe,SAACC,GAAD,OAAWA,EAAMC,YAAYH,QACnDsF,GAASC,EAAAA,EAAAA,MAET5B,EAAiB,SAACnD,GACtB4E,EAAQ5E,IAeV,IAZAJ,EAAAA,EAAAA,YAAU,WACR,KACE,iBAAC,uFACMkF,EAAOrE,GADb,iEAEwBH,EAAAA,EAAAA,WAAmBwE,EAAOrE,IAFlD,OAEOuC,EAFP,OAGCG,EAAeH,EAASE,KAAKlD,MAH9B,0CAAD,GAKA,MAAOgF,GACPrE,EAAAA,GAAAA,MAAY,iCAAkC,CAAEC,UAAW,SAE5D,CAACkE,EAAOrE,MAENT,EAAM,OAAO,KAElB,IAAMgC,EAAqB,WACzB,IAAKxC,EACH,OAAOL,EAASN,EAAAA,GAAAA,QAGlBgG,GAAmBpD,IAGfwD,EAAiB,OAAGzF,QAAH,IAAGA,GAAH,UAAGA,EAAM0F,eAAT,aAAG,EAAeC,MAAK,SAACC,GAC7C,OAAOA,EAAKpF,KAAKG,SAAWH,EAAKG,UAEnC,OACE,UAAC,IAAD,YACE,UAAC,EAAD,YACE,gBAAKzB,UAAU,QAAf,UACE,gBACEA,UAAU,aACVF,IAAKwB,EAAKgB,WAGd,iBAAKtC,UAAU,YAAf,WACE,cAAGA,UAAU,mBAAb,SACGsB,EAAKiB,SAER,cAAGvC,UAAU,sBAAb,SACGsB,EAAKqB,UAER,iBAAK3C,UAAU,SAAf,WACE,iBAAKA,UAAU,kBAAf,WACE,gBACEF,IAAK6D,EACL3D,UAAU,UAEZ,gBAAKA,UAAU,iBAAf,SACGsB,EAAKwB,kBAGV,SAACF,EAAA,EAAD,CACEnB,OAAQH,EAAKG,OACboB,MAAuB,OAAjB0D,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBrD,SAAU,EACnCH,eAAgBA,EAChBO,mBAAoBA,KAEtB,iBACEtD,UAAU,iBACV0C,QAASY,EAFX,WAIE,gBAAKtD,UAAU,gBAAgBF,I,ufAC9BiD,GAAkB,OAACwD,QAAD,IAACA,IAAAA,EAAmBrD,QACnC,2CACA,mDAIV,iBAAKlD,UAAU,cAAf,WACE,cAAGA,UAAU,yCAAb,0BAGA,cAAGA,UAAU,oBAAb,SACGsB,EAAKqF,eAER,iBAAK3G,UAAU,gBAAf,WACE,iBAAKA,UAAU,uBAAf,WACE,cAAGA,UAAU,4BAAb,wBAGA,SAACI,EAAA,EAAD,CACEC,KAAK,YACLC,KAAK,sBAGT,iBAAKN,UAAU,uBAAf,WACE,cAAGA,UAAU,4BAAb,wBAGA,SAACI,EAAA,EAAD,CACEC,KAAK,YACLC,KAAI,YAAOgB,EAAK0B,MAAZ,uBAMd,SAAC,EAAD,CACEyB,eAAgBA,EAChBnD,KAAMA,KAER,SAACgE,EAAA,EAAD,CACEsB,YAAU,EADZ,UAGE,SAACC,EAAA,EAAD,OAEF,SAAC,EAAD,S","sources":["ui/components/AuthorizeBanner/AuthorizeBanner.styles.ts","ui/components/AuthorizeBanner/AuthorizeBanner.tsx","ui/components/Book/Books.styles.ts","ui/components/Book/BooksRender.tsx","ui/components/CommonTextBlock.styles.ts","ui/components/Rating/Rating.styles.ts","ui/components/Rating/Rating.tsx","ui/pages/productPage/components/Comments/Comments.styles.ts","ui/pages/productPage/components/Comments/Comments.tsx","ui/pages/productPage/components/Recommendation/Recommendations.styles.ts","ui/pages/productPage/components/Recommendation/Recommendations.tsx","ui/pages/productPage/ProductPage.styles.ts","ui/pages/productPage/ProductPage.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  position: relative;\n  justify-content: space-between;\n  background: #F0F4EF;\n  border-radius: 16px;\n  max-height: 400px;\n  height: 100%;\n  margin-top: 100px;\n\n  .text-block {\n    position: relative;\n    max-width: 415px;\n    width: 100%;\n    padding-right: 108px;\n    z-index: 1;\n  }\n\n  .button {\n    text-decoration-line: none;\n  }\n\n  .info-block {\n    position: relative;\n  }\n\n  .main-img {\n    position: absolute;\n    left: 108px;\n    bottom: 0;\n  }\n\n  .background-img {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n\n  @media (max-width: 1279px) {\n    margin-top: 0;\n    max-height: 400px;\n    height: 100%;\n\n    .main-img {\n      width: 389px;\n      height: 345px;\n      left: 0;\n    }\n\n    .background-img {\n      width: 377px;\n    }\n\n    .text-block {\n      padding: 80px 0 118px;\n      max-width: 392px;\n    }\n  }\n\n  @media (max-width: 833px) {\n    max-height: 501px;\n    height: 501px;\n\n    .main-img {\n      width: 282px;\n      height: 250px;\n    }\n\n    .background-img {\n      width: 246px;\n      bottom: unset;\n      top: 0;\n    }\n\n    .text-block {\n      padding: 20px;\n      max-width: 249px;\n    }\n  }\n`;\n\nexport default Wrapper;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { routePath } from '../../../constants';\n\nimport CommonButton from '../CommonButton';\n\nimport CommonTextBlock from '../CommonTextBlock.styles';\nimport Wrapper from './AuthorizeBanner.styles';\nimport CommonWrapper from '../CommonWrapper.styles';\n\nimport castle from '../../images/castle.png';\nimport fairy from '../../images/fairy.png';\n\nconst AuthorizeBanner = () => {\n  return (\n    <CommonWrapper>\n      <Wrapper>\n        <div>\n          <img\n            src={castle}\n            className=\"main-img\"\n          />\n        </div>\n        <div className=\"info-block\">\n          <img\n            src={fairy}\n            className=\"background-img\"\n          />\n          <CommonTextBlock className=\"text-block\">\n            <p className=\"title\">\n              Authorize now\n            </p>\n            <p className=\"text\">\n              Authorize now and discover the fabulous world of books\n            </p>\n            <Link\n              className=\"button\"\n              to={routePath.signIn}\n            >\n              <CommonButton\n                size=\"permanent\"\n                text=\"Log In/ Sign Up\"\n              />\n            </Link>\n          </CommonTextBlock>\n        </div>\n      </Wrapper>\n    </CommonWrapper>\n  );\n};\n\nexport default AuthorizeBanner;\n","import styled from 'styled-components';\n\ntype StylesProps = {\n  wrap: 'wrap' | 'nowrap';\n}\n\nconst BooksWrapper = styled.div<StylesProps>`\n  display: flex;\n  ${(props) => (props.wrap === 'wrap'\n    ? 'flex-wrap: wrap;'\n    : `flex-wrap: nowrap;\n      overflow: hidden;`\n  )}\n  margin-top: 50px;\n  gap: 80px 20px;\n  font-size: 20px;\n  line-height: 30px;\n\n  .book {\n    position: relative;\n    width: 305px;\n    font-size: 20px;\n    line-height: 30px;\n  }\n\n  .book__cover {\n    height: 448px;\n    width: 305px;\n    border-radius: 16px;\n  }\n\n  .book__favorite {\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    cursor: pointer;\n  }\n\n  .book__title {\n    color: #344966;\n    margin: 30px 0 0 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-decoration: none;\n  }\n\n  .book__author {\n    color: #B9BAC4;\n    margin: 0 0 20px 0;\n  }\n\n  .book__rating {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 16px;\n    line-height: 24px;\n    color: #B9BAC4;\n    margin: 21px 0 32px 0;\n  }\n\n  .book__link {\n    text-decoration: none;\n  }\n\n  @media (max-width: 1310px) {\n    gap: 30px 20px;\n\n    .book {\n      width: 254px;\n      font-size: 16px;\n      line-height: 24px;\n    }\n    .book__cover {\n      height: 372px;\n      width: 254px;\n    }\n\n    .book__favorite {\n      width: 38px;\n      height: 38px;\n      top: 16px;\n      left: 16px;\n    }\n  }\n\n  @media (max-width: 833px) {\n    .book {\n      width: 135px;\n      font-size: 14px;\n      line-height: 21px;\n    }\n    .book__cover {\n      height: 192px;\n      width: 135px;\n    }\n\n    .book__rating {\n      margin: 15px 0 18px 0;\n    }\n\n    .book__average-rating {\n      font-size: 12px;\n      line-height: 20px;\n    }\n\n    .book__favorite {\n      width: 25px;\n      height: 25px;\n      top: 16px;\n      left: 19px;\n    }\n  }\n`;\n\nexport default BooksWrapper;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport bookApi from '../../../api/bookApi';\nimport { useAppSelector } from '../../../store';\nimport { routePath } from '../../../constants';\nimport { BooksArray, BookType } from '../../../types';\n\nimport CommonButton from '../CommonButton';\nimport Rating from '../Rating';\nimport BooksWrapper from './Books.styles';\n\nimport favoriteUnchoosenIcon from '../../images/fav-unchoosen.png';\nimport favoriteChoosenIcon from '../../images/favorites.png';\n\ntype BookProps = {\n  booksArray: BooksArray;\n  wrap: 'wrap' | 'nowrap';\n  handleFavorites?: (id: number) => void;\n}\n\nconst BooksRender: React.FC<BookProps> = (props) => {\n  const navigate = useNavigate();\n  const [favoritesIds, setFavoritesIds] = useState<number[]>([]);\n  const user = useAppSelector((state) => state.userReducer.user);\n\n  useEffect(() => {\n    const updatedFavoritesIds: number[] = [];\n    props.booksArray.forEach((book) => {\n      if (book.isInFavorite) {\n        updatedFavoritesIds.push(book.bookId);\n      }\n    });\n    setFavoritesIds(updatedFavoritesIds);\n  }, [props.booksArray]);\n\n  const handleClickOnFavorite = async (bookId: number) => {\n    try {\n      if (!user) {\n        return navigate(routePath.signIn);\n      }\n      const indexInFavorites = favoritesIds.indexOf(bookId);\n      if (indexInFavorites !== -1) {\n        await bookApi.removeFromFavorite({ bookId });\n        setFavoritesIds((favorites) => favorites.filter((id) => {\n          return id !== bookId;\n        }));\n        if (props.handleFavorites) {\n          props.handleFavorites(bookId);\n        }\n      } else {\n        await bookApi.addToFavorite({ bookId });\n        setFavoritesIds([...favoritesIds, bookId]);\n      }\n    } catch (err) {\n      toast.error('Sorry, changing favorites is not available now', { autoClose: 3000 });\n    }\n  };\n\n  return (\n    <BooksWrapper\n      wrap={props.wrap}\n    >\n      {props.booksArray.map((book: BookType) => {\n        return (\n          <div\n            className=\"book\"\n            key={book.bookId}\n          >\n            <Link\n              className=\"book__link\"\n              to={{ pathname: routePath.createProductURL(book.bookId.toString()) }}>\n              <img\n                src={book.cover}\n                className=\"book__cover\"\n              />\n              <p className=\"book__title\">\n                {book.title}\n              </p>\n            </Link>\n            {favoritesIds.includes(book.bookId)\n              ? (<img\n                className=\"book__favorite\"\n                src={favoriteChoosenIcon}\n                onClick={() => handleClickOnFavorite(book.bookId)}\n              />)\n              : (<img\n                className=\"book__favorite\"\n                src={favoriteUnchoosenIcon}\n                onClick={() => handleClickOnFavorite(book.bookId)}\n              />)\n            }\n            <p className=\"book__author\">\n              {book.author}\n            </p>\n            <div className=\"book__rating\">\n              <Rating\n                rate={book.averageRate}\n                isChangeRating={false}\n                bookId={book.bookId}\n              />\n              <div className=\"book__average-rating\">\n                {book.averageRate}\n              </div>\n            </div>\n            <CommonButton\n              size=\"container\"\n              text={`$${book.price} USD`}\n            />\n          </div>\n        );\n      })}\n    </BooksWrapper>\n  );\n};\n\nexport default BooksRender;\n","import styled from 'styled-components';\n\nconst CommonTextBlock = styled.div`\n  padding: 80px 10px 96px 0px;\n  z-index: 1;\n\n  .title {\n    font-weight: 700;\n    line-height: 60px;\n    font-size: 40px;\n    margin: 0;\n  }\n\n  .text {\n    font-size: 20px;\n    margin: 0;\n    padding: 10px 0 50px;\n  }\n\n  .button {\n    display: inline-flex;\n  }\n\n  @media (max-width: 1279px) {\n    padding: 45px 14px 49px 40px;\n\n    .title {\n      font-weight: 700;\n      line-height: 48px;\n      font-size: 32px;\n    }\n\n    .text {\n      font-size: 16px;\n    }\n  }\n\n  @media (max-width: 833px) {\n    padding: 20px;\n\n    .title {\n      line-height: 27px;\n      font-size: 18px;\n    }\n\n    .text {\n      font-size: 14px;\n      line-height: 21px;\n      padding: 20px 0;\n\n    }\n  }\n`;\n\nexport default CommonTextBlock;\n","import styled from 'styled-components';\n\nexport const RatingWrapper = styled.div`\n  .rating__star {\n    margin: 0 28px 0 0;\n  }\n\n  @media (max-width: 1279px) {\n    .rating__star {\n      width: 23px;\n      height: 23px;\n      margin: 0 17.5px 0 0;\n    }\n  }\n\n  @media (max-width: 833px) {\n    .rating__star {\n      width: 14px;\n      height: 14px;\n      margin: 0 10px 0 0;\n    }\n  }\n`;\n\nexport default RatingWrapper;\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\nimport { Rating as RatingStars } from 'react-simple-star-rating';\n\nimport { useAppSelector } from '../../../store';\nimport bookApi from '../../../api/bookApi';\nimport { routePath } from '../../../constants';\n\nimport RatingWrapper from './Rating.styles';\n\nimport emptyStarIcon from '../../images/star.png';\nimport filledStarIcon from '../../images/star-filled.png';\n\ntype RatingProps = {\n  bookId: number,\n  rate: number | 0,\n  isChangeRating: boolean,\n  handleChangeRating?: () => void,\n}\n\nconst Rating: React.FC<RatingProps> = (props) => {\n  const navigate = useNavigate();\n  const user = useAppSelector((state) => state.userReducer.user);\n  const [rating, setRating] = useState(props.rate);\n\n  useEffect(() => {\n    if (props.isChangeRating) {\n      setRating(0);\n    }\n  }, [props.isChangeRating]);\n\n  const updateRating = async (newRate: number) => {\n    try {\n      if (!user) {\n        return navigate(routePath.signIn);\n      }\n      await bookApi.setRating({\n        bookId: props.bookId,\n        rating: newRate,\n      });\n    } catch (err) {\n      toast.error('Sorry, setting rating is not available now', { autoClose: 3000 });\n    }\n  };\n\n  const handleRating = (rate: number) => {\n    setRating(rate / 20);\n    if (!props.handleChangeRating) {\n      return;\n    }\n\n    props.handleChangeRating();\n    updateRating(rate / 20);\n  };\n\n  return (\n    <RatingWrapper>\n      <RatingStars\n        onClick={handleRating}\n        ratingValue={rating * 20}\n        allowHalfIcon={false}\n        readonly={!props.isChangeRating}\n        fullIcon={(\n          <img\n            src={filledStarIcon}\n            className=\"rating__star\"\n          />\n        )}\n        emptyIcon={(\n          <img\n            src={emptyStarIcon}\n            className=\"rating__star\"\n          />\n        )}\n      />\n    </RatingWrapper>\n  );\n};\n\nexport default Rating;\n","import styled from 'styled-components';\n\nconst CommentsWrapper = styled.div`\n  margin-top: 88px;\n\n  .title {\n    font-weight: 700;\n    font-size: 32px;\n    line-height: 48px;\n  }\n\n  .comment {\n    max-width: 783px;\n    width: 100%;\n    border-radius: 16px;\n    background: #F0F4EF;\n    margin: 10px 0;\n    display: grid;\n    grid-template-columns: 100px auto;\n  }\n\n  .avatar {\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    object-fit: cover;\n    margin: 30px 20px 0 30px;\n  }\n\n  .content-block {\n    margin: 35px 30px 0 0;\n  }\n\n  .author-name {\n    font-weight: 600;\n    letter-spacing: 0.75px;\n    color: #0D1821;\n    margin: 0;\n  }\n\n  .date {\n    font-size: 12px;\n    line-height: 18px;\n    letter-spacing: 0.75px;\n    color: #B9BAC4;\n    margin: 4px 0 9px 0;\n  }\n\n  .text {\n    letter-spacing: 0.75px;\n    color: #344966;\n    margin-bottom: 25px;\n    grid-column-start: 2;\n    grid-column-end: 3\n  }\n\n  .textarea {\n    box-sizing: border-box;\n    border: none;\n    margin: 60px 0 30px 0;\n    padding: 20px 24px;\n    resize: none;\n    color: #344966;\n    font-family: 'Poppins';\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 28px;\n    letter-spacing: 0.75px;\n  }\n\n  .textarea:focus {\n    outline: none;\n  }\n\n  @media (max-width: 1279px) {\n    .comments {\n      max-width: 667px;\n    }\n\n    .comment__form {\n      max-width: 738px;\n      width: 100%;\n    }\n  }\n\n  @media (max-width: 833px) {\n    .comment {\n      display: grid;\n      grid-template-columns: 58px auto;\n    }\n\n    .avatar {\n      width: 35px;\n      height: 35px;\n      margin: 13px 13px 0 10px;\n      grid-row-start: 1;\n    }\n\n    .text {\n      margin: 15px 0 10px 10px;\n      grid-column-start: 1;\n      grid-column-end: 3;\n      font-size: 12px;\n      line-height: 18px;\n    }\n\n    .content-block {\n      margin-top: 10px;\n    }\n\n    .author-name {\n      font-size: 14px;\n      line-height: 21px;\n    }\n\n    .date {\n      margin: 0;\n      font-size: 10px;\n      line-height: 15px;\n    }\n\n    .comment {\n      font-weight: 400;\n      font-size: 12px;\n      line-height: 28px;\n    }\n  }\n`;\nexport default CommentsWrapper;\n","import React, { useEffect } from 'react';\nimport { useFormik } from 'formik';\nimport dayjs from 'dayjs';\nimport { toast } from 'react-toastify';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport { socket } from '../../../../../App';\nimport bookApi from '../../../../../api/bookApi';\nimport { BookType, Comment } from '../../../../../types';\nimport { useAppSelector } from '../../../../../store';\n\nimport AuthProtector from '../../../../components/AuthProtector';\nimport CommonButton from '../../../../components/CommonButton';\n\nimport CommentsWrapper from './Comments.styles';\n\nimport defaultAvatar from '../../../../images/default-avatar.png';\n\ntype CommentsProps = {\n  book: BookType,\n  setBookInState: (data: BookType) => void,\n}\n\nconst Comments: React.FC<CommentsProps> = (props) => {\n  const user = useAppSelector((state) => state.userReducer.user);\n  const commentsArray = props.book.comments;\n\n  const formik = useFormik({\n    initialValues: {\n      text: '',\n    },\n    onSubmit: async (value) => {\n      try {\n        if (!user) { return; }\n        const newComment = {\n          text: value.text.trim(),\n          bookId: props.book.bookId,\n        };\n        const response = await bookApi.addComment(newComment);\n        value.text = '';\n\n        socket.emit('comment:add', response.data);\n      } catch (error) {\n        toast.error('Sorry, something went wrong...', { autoClose: 3000 });\n      }\n    },\n  });\n\n  useEffect(() => {\n    socket.on('comment:save', (data: Comment) => {\n      props.book.comments.push(data);\n      const book = { ...props.book };\n      props.setBookInState(book);\n    });\n  }, [socket]);\n\n  const dateToDateAgo = (date: string) => {\n    dayjs.extend(relativeTime);\n    const newDate = dayjs(date).fromNow();\n    return `Left a comment ${newDate}`;\n  };\n\n  return (\n    <CommentsWrapper>\n      <h1 className=\"title\">Comments</h1>\n      {commentsArray.length > 0 && <div className=\"comments\">\n        {commentsArray.map((comment) => {\n          return (\n            <div\n              key={comment.commentId}\n              className=\"comment\"\n            >\n              <img\n                src={comment.user.avatar || defaultAvatar}\n                className=\"avatar\" />\n              <div className=\"content-block\">\n                <p className=\"author-name\">{comment.user.name}</p>\n                <p className=\"date\">{dateToDateAgo(comment.date)}</p>\n              </div>\n              <p className=\"text\">{comment.text}</p>\n            </div>\n          );\n        })}\n      </div>}\n      <AuthProtector>\n        <form\n          onSubmit={formik.handleSubmit}\n          className=\"comment__form\"\n        >\n          <textarea\n            placeholder=\"Share a comment\"\n            className=\"textarea comment\"\n            rows={3}\n            {...formik.getFieldProps('text')}\n          />\n          <CommonButton\n            size=\"permanent\"\n            text=\"Post a comment\"\n          />\n        </form>\n      </AuthProtector>\n    </CommentsWrapper>\n  );\n};\n\nexport default Comments;\n","import styled from 'styled-components';\n\nconst RecommendationsWrapper = styled.div`\n  margin: 110px 0 120px 0;\n\n  .recommendations__title {\n    font-weight: 700;\n    font-size: 40px;\n    line-height: 60px;\n    color: #0D1821;\n  }\n`;\n\nexport default RecommendationsWrapper;\n","import React, { useEffect } from 'react';\n\nimport { useAppDispatch, useAppSelector } from '../../../../../store';\nimport { getRecommendations } from '../../../../../store/bookThunk';\n\nimport BooksRender from '../../../../components/Book/BooksRender';\n\nimport RecommendationsWrapper from './Recommendations.styles';\n\nconst Recommendations = () => {\n  const recommendedBooks = useAppSelector((state) => state.bookReducer.recommended);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    (async () => {\n      dispatch(getRecommendations());\n    })();\n  }, [dispatch]);\n\n  return (\n    <RecommendationsWrapper>\n      <h1 className=\"recommendations__title\">Recommendations</h1>\n      <BooksRender\n        wrap=\"nowrap\"\n        booksArray={recommendedBooks}\n      />\n    </RecommendationsWrapper>\n  );\n};\n\nexport default Recommendations;\n","import styled from 'styled-components';\n\nconst ProductPageWrapper = styled.div`\n  display: grid;\n  column-gap: 128px;\n  color: #0D1821;\n\n  .cover {\n    grid-row-start: 1;\n    grid-row-end: 3;\n  }\n  \n  .cover__img {\n    width: 522px;\n    height: 779px;\n    border-radius: 16px;\n  }\n\n  .book-info {\n    max-width: 630px;\n    width: 100%;\n    grid-row-start: 1;\n  }\n\n  .book-info__title {\n    margin: 0;\n    font-weight: 700;\n    font-size: 40px;\n    line-height: 60px;\n  }\n\n  .book-info__subtitle {\n    margin: 0;\n    font-size: 24px;\n    line-height: 36px;\n  }\n\n  .rating {\n    display: flex;\n    height: 28px;\n    margin: 30px 0;\n  }\n\n  .rating__average {\n    display: flex;\n    margin-right: 41px;\n  }\n\n  .icon {\n    width: 28px;\n    height: 28px;\n    margin-right: 14px;\n  }\n\n  .rating__arrow {\n    opacity: 0.2;\n    margin: 0 10px 0 44px;\n    white-space: nowrap;\n  }\n\n  .rating__update {\n    display: flex;\n    align-items: center;\n    color: #B9BAC4;\n    cursor: pointer;\n  }\n\n  .description__text {\n    font-size: 16px;\n    line-height: 24px;\n    color: #344966;\n    white-space: pre-wrap;\n    white-space: -moz-pre-wrap;\n    white-space: -pre-wrap;\n    white-space: -o-pre-wrap;\n    word-wrap: break-word;\n  }\n\n  .buttons-block {\n    display: flex;\n    column-gap: 74px;\n  }\n\n  .button-block__description {\n    color: #344966;\n    margin: 0 0 14px 0;\n  }\n  \n  .button-block__button {\n    width: 243px;\n  }\n\n  @media (max-width: 1279px) {\n    column-gap: 21px;\n    -webkit-column-gap: 21px;\n\n    .cover__img {\n      width: 391px;\n      height: 584px;\n    }\n\n    .book-info__title {\n      font-size: 32px;\n      line-height: 48px;\n    }\n\n    .book-info__subtitle {\n      font-size: 20px;\n      line-height: 30px;\n    }\n\n    .book-info {\n      max-width: 392px;\n    }\n\n    .buttons-block {\n      margin-top: 50px;\n      column-gap: 50px;\n    }\n\n    .button-block__button {\n      width: 188px;\n    }\n\n    .icon {\n      width: 23px;\n      height: 23px;\n    }\n\n    .rating {\n      flex-wrap: wrap;\n      align-items: center;\n      row-gap: 17px;\n      margin-bottom: 90px;\n    }\n\n    .rating__arrow {\n      margin: 0 10px 0 41px;\n    }\n\n    .rating__average {\n      width: 100%;\n    }\n  }\n\n  @media (max-width: 833px) {\n    .cover__img {\n      width: 135px;\n      height: 202px;\n    }\n\n    .book-info__title {\n      font-size: 18px;\n      line-height: 20px;\n      width: 135px;\n    }\n\n    .book-info__subtitle {\n      font-size: 12px;\n      line-height: 28px;\n    }\n\n    .icon {\n      width: 14px;\n      height: 14px;\n    }\n\n    .rating__arrow {\n      display: none;\n    }\n\n    .rating {\n      row-gap: 17px;\n      margin-bottom: 90px;\n    }\n\n    .rating__update > p {\n      font-size: 12px;\n      line-height: 18px;\n      margin: 0;\n    }\n\n    .description {\n      grid-column-start: 1;\n      grid-column-end: 3;\n    }\n\n    .description__title {\n      font-size: 14px;\n      line-height: 21px;\n    }\n\n    .description__text {\n      font-size: 12px;\n      line-height: 18px;\n      max-width: 290px;\n      width: 100%;\n    }\n\n    .buttons-block {\n      margin-top: 30px;\n      column-gap: 20px;\n    }\n\n    .button-block__button {\n      width: 135px;\n    }\n  }\n`;\n\nexport default ProductPageWrapper;\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router';\nimport { toast } from 'react-toastify';\n\nimport bookApi from '../../../api/bookApi';\nimport { useAppSelector } from '../../../store';\nimport { BookType, RatingObj } from '../../../types';\nimport { routePath } from '../../../constants';\n\nimport CommonButton from '../../components/CommonButton';\nimport Rating from '../../components/Rating';\nimport Comments from './components/Comments';\nimport AuthProtector from '../../components/AuthProtector';\nimport AuthorizeBanner from '../../components/AuthorizeBanner';\nimport Recommendations from './components/Recommendation';\nimport CommonWrapper from '../../components/CommonWrapper.styles';\n\nimport ProductPageWrapper from './ProductPage.styles';\n\nimport filledStarIcon from '../../images/star-filled.png';\nimport backArrow from '../../images/back-arrow.png';\n\nconst ProductPage = () => {\n  const navigate = useNavigate();\n  const [book, setBook] = useState<BookType>();\n  const [isChangeRating, setIsChangeRating] = useState(false);\n  const user = useAppSelector((state) => state.userReducer.user);\n  const params = useParams();\n\n  const setBookInState = (book: BookType) => {\n    setBook(book);\n  };\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!params.id) return;\n        const response = await bookApi.getOneBook(params.id);\n        setBookInState(response.data.book);\n      })();\n    } catch (err) {\n      toast.error('Sorry, something went wrong...', { autoClose: 3000 });\n    }\n  }, [params.id]);\n\n  if (!book) return null;\n\n  const handleChangeRating = () => {\n    if (!user) {\n      return navigate(routePath.signIn);\n    }\n\n    setIsChangeRating(!isChangeRating);\n  };\n\n  const currentUserRating = user?.ratings?.find((item: RatingObj) => {\n    return item.book.bookId === book.bookId;\n  });\n  return (\n    <CommonWrapper>\n      <ProductPageWrapper>\n        <div className=\"cover\">\n          <img\n            className=\"cover__img\"\n            src={book.cover}\n          />\n        </div>\n        <div className=\"book-info\">\n          <p className=\"book-info__title\">\n            {book.title}\n          </p>\n          <p className=\"book-info__subtitle\">\n            {book.author}\n          </p>\n          <div className=\"rating\">\n            <div className=\"rating__average\">\n              <img\n                src={filledStarIcon}\n                className=\"icon\"\n              />\n              <div className=\"rating__update\">\n                {book.averageRate}\n              </div>\n            </div>\n            <Rating\n              bookId={book.bookId}\n              rate={currentUserRating?.rating || 0}\n              isChangeRating={isChangeRating}\n              handleChangeRating={handleChangeRating}\n            />\n            <div\n              className=\"rating__update\"\n              onClick={handleChangeRating}\n            >\n              <img className=\"rating__arrow\" src={backArrow} />\n              {isChangeRating || !currentUserRating?.rating\n                ? <p>Rate this book</p>\n                : <p>Update rating</p>}\n            </div>\n          </div>\n        </div>\n        <div className=\"description\">\n          <p className=\"book-info__subtitle description__title\">\n            Description\n          </p>\n          <p className=\"description__text\">\n            {book.description}\n          </p>\n          <div className=\"buttons-block\">\n            <div className=\"button-block__button\">\n              <p className=\"button-block__description\">\n                Paperback\n              </p>\n              <CommonButton\n                size=\"container\"\n                text=\"Not available\"\n              />\n            </div>\n            <div className=\"button-block__button\">\n              <p className=\"button-block__description\">\n                Hardcover\n              </p>\n              <CommonButton\n                size=\"container\"\n                text={`$ ${book.price} USD`}\n              />\n            </div>\n          </div>\n        </div>\n      </ProductPageWrapper>\n      <Comments\n        setBookInState={setBookInState}\n        book={book}\n      />\n      <AuthProtector\n        noAuthOnly\n      >\n        <AuthorizeBanner />\n      </AuthProtector>\n      <Recommendations />\n    </CommonWrapper>\n  );\n};\n\nexport default ProductPage;\n"],"names":["styled","src","castle","className","fairy","to","routePath","CommonButton","size","text","props","wrap","navigate","useNavigate","useState","favoritesIds","setFavoritesIds","user","useAppSelector","state","userReducer","useEffect","updatedFavoritesIds","booksArray","forEach","book","isInFavorite","push","bookId","handleClickOnFavorite","indexOf","bookApi","favorites","filter","id","handleFavorites","toast","autoClose","map","pathname","toString","cover","title","includes","favoriteChoosenIcon","onClick","author","Rating","rate","averageRate","isChangeRating","price","CommonTextBlock","rating","setRating","updateRating","newRate","handleChangeRating","ratingValue","allowHalfIcon","readonly","fullIcon","filledStarIcon","emptyIcon","commentsArray","comments","formik","useFormik","initialValues","onSubmit","value","newComment","trim","response","socket","data","setBookInState","dateToDateAgo","date","dayjs","relativeTime","newDate","fromNow","length","comment","avatar","defaultAvatar","name","commentId","AuthProtector","handleSubmit","placeholder","rows","getFieldProps","recommendedBooks","bookReducer","recommended","dispatch","useAppDispatch","getRecommendations","BooksRender","setBook","setIsChangeRating","params","useParams","err","currentUserRating","ratings","find","item","description","noAuthOnly","AuthorizeBanner"],"sourceRoot":""}